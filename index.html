<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Study Guide</title>
    <!--
        CSS (Styles) are integrated into this file.
        No separate .css file is needed.
    -->
    <style>
        /* General Styles */
        :root {
            --color-primario: #005a9c; /* Academic Blue */
            --color-primario-oscuro: #003b6f;
            --color-acento: #fdb813; /* Gold/Yellow Accent */
            --color-fondo: #f4f7f6;
            --color-tarjeta: #ffffff;
            --color-texto: #333;
            --color-quiz-verde: #28a745;
            --color-quiz-rojo: #d9534f;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: var(--color-fondo);
            color: var(--color-texto);
            margin: 0;
            padding: 0;
        }

        /* Hide all pages by default */
        .page {
            display: none;
        }
        /* Show only the active page */
        .page.active {
            display: block;
        }

        header {
            background-color: var(--color-primario);
            color: #ffffff;
            padding: 20px 40px;
            text-align: center;
            border-bottom: 4px solid var(--color-acento);
        }

        header h1 {
            margin: 0;
            font-size: 2.2em; /* Adjusted for small screens */
        }

        main {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: var(--color-tarjeta);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        footer {
            text-align: center;
            margin-top: 20px;
            padding: 0 20px;
            font-size: 0.9em;
            color: #777;
        }

        h1, h2, h3 {
            color: var(--color-primario-oscuro);
            margin-top: 1em;
            margin-bottom: 0.5em;
        }

        h2 { border-bottom: 2px solid #eee; padding-bottom: 5px; }
        h3 { color: var(--color-primario); }

        p { margin-bottom: 1em; }
        ul, ol { margin-bottom: 1em; padding-left: 25px; }
        li { margin-bottom: 0.5em; }

        /* Style for key points */
        .punto-clave { /* Re-using style from reference, 'punto-clave' means 'key-point' */
            background-color: #f9f9f9;
            border-left: 4px solid var(--color-acento);
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
        }

        /* --- Navigation and Video Styles --- */
        .video-wrapper {
            text-align: center;
            margin-bottom: 30px;
        }
        
        /* Responsive container for video/iframe or placeholder */
        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 ratio */
            height: 0;
            background-color: #e0e0e0; /* Placeholder background color */
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-container iframe,
        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        .video-placeholder-text {
            color: #777;
            font-size: 1.1em;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            font-weight: 500;
        }

        .video-grid {
            display: grid;
            grid-template-columns: 1fr; /* 1 column by default (mobile) */
            gap: 20px;
            margin-top: 20px;
        }

        .video-grid-item h3 {
            font-size: 1.2em;
            text-align: center;
            margin-bottom: 10px;
            color: var(--color-primario-oscuro);
        }
        
        /* Media query for larger screens (tablets and desktops) */
        @media (min-width: 768px) {
            .video-grid {
                grid-template-columns: repeat(2, 1fr); /* 2 columns */
            }
            header h1 {
                font-size: 2.5em;
            }
        }

        .main-nav {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 30px;
        }

        .nav-button {
            display: block;
            background-color: var(--color-primario);
            color: #ffffff;
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 5px;
            text-align: center;
            font-size: 1.1em;
            font-weight: 500;
            transition: background-color 0.3s ease, transform 0.2s ease;
            cursor: pointer;
            border: none;
        }

        .nav-button:hover {
            background-color: var(--color-primario-oscuro);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .general-quiz {
            background-color: #e9f1f7;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-top: 30px;
        }

        .quiz-button {
            display: inline-block;
            background-color: var(--color-quiz-verde);
            color: #ffffff;
            text-decoration: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1.2em;
            font-weight: bold;
            transition: background-color 0.3s ease;
            cursor: pointer;
            border: none;
        }

        .quiz-button.general {
            /* A more striking orange/red for the main quiz */
            background-color: #e65100; 
        }

        .quiz-button:hover {
            opacity: 0.9;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .back-button {
            display: inline-block;
            margin-top: 20px;
            font-size: 1em;
            background-color: #6c757d; /* Gray */
        }

        .back-button:hover {
            background-color: #5a6268;
        }

        /* --- Quiz Styles --- */
        .quiz-container {
            padding: 20px;
        }

        #question-header {
            margin-bottom: 20px;
        }

        #question-text {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        #question-counter {
            font-size: 0.9em;
            color: #777;
            text-align: right;
        }

        #options-container {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #options-container li {
            background-color: #f9f9f9;
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        #options-container li:hover {
            background-color: #e9f1f7;
        }

        #options-container li.selected {
            background-color: #d4e6f1;
            border-color: var(--color-primario);
            font-weight: bold;
        }

        #submit-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            font-weight: bold;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        #submit-btn:hover {
            background-color: #0056b3;
        }

        /* Quiz Results */
        .results-container {
            padding: 20px;
        }

        #results-score {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--color-primario-oscuro);
            text-align: center;
            margin-bottom: 30px;
        }

        #incorrect-answers h3 {
            color: var(--color-quiz-rojo);
            border-bottom: 2px solid #f5c6cb;
            padding-bottom: 5px;
        }
        
        #correct-answers h3 {
            color: var(--color-quiz-verde);
            border-bottom: 2px solid #c3e6cb;
            padding-bottom: 5px;
        }


        #incorrect-answers ul {
            list-style: none;
            padding: 0;
        }

        #incorrect-answers li {
            background-color: #fdf7f7;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        #incorrect-answers .question {
            font-weight: bold;
            margin-bottom: 5px;
        }

        #incorrect-answers .user-answer {
            color: var(--color-quiz-rojo);
        }

        #incorrect-answers .correct-answer {
            color: var(--color-quiz-verde);
            font-weight: 500;
        }

        /* --- Simple Modal Styles --- */
        .simple-modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 100;
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
        }
        .simple-modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 300px;
        }
        .simple-modal-content p {
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .simple-modal-close {
            display: inline-block;
            background-color: var(--color-primario);
            color: #fff;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            border: none;
        }
    </style>
</head>
<body>

    <!-- 
        PAGE CONTAINER
        All "pages" (sections) are here.
        JavaScript handles showing only the active one.
    -->

    <!-- ========== MAIN PAGE (index.html) ========== -->
    <div id="page-main" class="page active">
        <header>
            <h1>Exam Study Guide</h1>
        </header>
        
        <main>
            <section class="video-wrapper">
                <h2>Review Videos</h2>
                
                <div class="video-grid">
                    <!-- Video 1 -->
                    <div class="video-grid-item">
                        <h3>1. Core Concepts Review</h3>
                        <div class="video-container">
                            <video src="https://luisonyturbe.github.io/english/e1.mov" controls playsinline></video>
                        </div>
                    </div>
                    <!-- Video 2 -->
                    <div class="video-grid-item">
                        <h3>2. Plot & Conflict Explained</h3>
                        <div class="video-container">
                             <video src="https://luisonyturbe.github.io/english/e2.mov" controls playsinline></video>
                        </div>
                    </div>
                </div>
            </section>
            
            <nav class="main-nav">
                <h2>Topics</h2>
                <button onclick="navigateToPage('page-tema1')" class="nav-button">1. Active and Passive Voice</button>
                <button onclick="navigateToPage('page-tema2')" class="nav-button">2. Informational Text Features</button>
                <button onclick="navigateToPage('page-tema3')" class="nav-button">3. Reading Adventure Stories</button>
                <button onclick="navigateToPage('page-tema4')" class="nav-button">4. Internal Conflict</button>
                <button onclick="navigateToPage('page-tema5')" class="nav-button">5. External Conflict and Types</button>
                <button onclick="navigateToPage('page-tema6')" class="nav-button">6. Personal Narrative</button>
                <button onclick="navigateToPage('page-tema7')" class="nav-button">7. Concept Vocabulary</button>
                <button onclick="navigateToPage('page-tema8')" class="nav-button">8. Animal Words (Figurative)</button>
                <button onclick="navigateToPage('page-tema9')" class="nav-button">9. Plot Structures</button>
            </nav>
            
            <section class="general-quiz">
                <h2>General Assessment</h2>
                <p>Ready to test everything you've learned? Take the general exam.</p>
                <button onclick="navigateToPage('page-quiz', 'quiz-main')" class="quiz-button general">Take QUIZ (10 Questions)</button>
            </section>
        </main>
        
        <footer>
            <p>Exam Study Guide</p>
        </footer>
    </div>

    <!-- ========== PAGE TOPIC 1: Active/Passive Voice ========== -->
    <div id="page-tema1" class="page">
        <header>
            <h1>1. Active and Passive Voice</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>Core Idea</h2>
                <p><strong>Active:</strong> Subject does the action.</p>
                <p class="punto-clave">Formula: Subject + verb + object.<br>Ex: The dog chased the cat.</p>
                
                <p><strong>Passive:</strong> Subject receives the action.</p>
                <p class="punto-clave">Formula: Object → be + past participle (+ by + doer).<br>Ex: The cat was chased (by the dog).</p>
            </section>

            <section class="content-section">
                <h2>Spot Passive Fast</h2>
                <ul>
                    <li>Form of <strong>be</strong> (am/is/are/was/were/been/being) + <strong>past participle</strong> (done, eaten, written).</li>
                    <li>Optional "by..." phrase (not required).</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Why Use Each</h2>
                <ul>
                    <li><strong>Active:</strong> Clearer, stronger, faster.</li>
                    <li><strong>Passive:</strong> Emphasize receiver, hide/unknown doer, formal/science tone.</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Convert</h2>
                <ul>
                    <li><strong>Active → Passive:</strong> Object to front → add 'be' + past participle → add 'by + doer' if needed.</li>
                    <li><strong>Passive → Active:</strong> Find the doer (often after 'by') → make it subject → use simple verb.</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Quick Check</h2>
                <div class="punto-clave">
                    <p><strong>The mystery was solved last night.</strong> → Passive</p>
                    <p><strong>Detectives solved the mystery.</strong> → Active</p>
                </div>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>

    <!-- ========== PAGE TOPIC 2: Informational Text Features ========== -->
    <div id="page-tema2" class="page">
        <header>
            <h1>2. Informational Text Features</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>Core Points</h2>
                <p>Writers use these features to help readers understand and connect complex ideas.</p>
                <ul>
                    <li><strong>Headings:</strong> Show how the author divides the topic and help readers anticipate the content.</li>
                    <li><strong>Footnotes:</strong> Define unfamiliar words or add background information at the bottom of the page.</li>
                    <li><strong>Sidebars:</strong> Add valuable information that differs from but is connected to the main topic.</li>
                    <li><strong>Graphics:</strong> (Charts, graphs, tables, diagrams, photos) Organize data or show complex concepts visually.</li>
                </ul>
                <p class="punto-clave"><strong>TIP:</strong> When reading, look at the title, headings, and other features to see how structure supports the central idea.</p>
            </section>

            <section class="content-section">
                <h2>Test Game Plan (3 Steps)</h2>
                <ol>
                    <li><strong>Skim the skeleton:</strong> Title → headings → graphics/captions → bold terms.</li>
                    <li><strong>Map structure:</strong> Look for clue words (cause/effect, compare/contrast, problem/solution, sequence).</li>
                    <li><strong>Target answers:</strong> Use glossary/index for terms; graphics for numbers; sidebars for examples.</li>
                </ol>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>

    <!-- ========== PAGE TOPIC 3: Reading Adventure Stories ========== -->
    <div id="page-tema3" class="page">
        <header>
            <h1>3. Reading Adventure Stories</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>What to Expect</h2>
                <ul>
                    <li><strong>Quest/Goal:</strong> A clear mission or destination.</li>
                    <li><strong>Hero/Team:</strong> Relatable protagonist with strengths/weaknesses.</li>
                    <li><strong>Obstacles:</strong> Danger, puzzles, nature, enemies.</li>
                    <li><strong>High Stakes:</strong> Survival, time limits, honor, saving others.</li>
                    <li><strong>Setting as a Challenge:</strong> Wild terrain, weather, unknown lands.</li>
                    <li><strong>Pacing:</strong> Fast scenes, cliffhangers, rising tension.</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>How to Read for Tests</h2>
                <ul>
                    <li><strong>Track the plot:</strong> Goal → Obstacles → Decisions → Outcome.</li>
                    <li>Mark vivid verbs and sensory details (they reveal tone/mood).</li>
                    <li>Ask: What choice raises the stakes? What skill saves the day?</li>
                    <li>Common questions are about: theme, character motivation, plot steps, and vocabulary-in-context.</li>
                </ul>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>

    <!-- ========== PAGE TOPIC 4: Internal Conflict ========== -->
    <div id="page-tema4" class="page">
        <header>
            <h1>4. Internal Conflict</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>Definition</h2>
                <p>A struggle <strong>inside</strong> a character's mind (fear, guilt, tough choice, values).</p>
            </section>

            <section class="content-section">
                <h2>Common Types</h2>
                <ul>
                    <li><strong>Decision vs. Decision:</strong> (Two good/bad options)</li>
                    <li><strong>Duty vs. Desire:</strong> (Responsibility vs. want)</li>
                    <li><strong>Fear vs. Courage:</strong> (Self-doubt vs. action)</li>
                    <li><strong>Values vs. Pressure:</strong> (What's right vs. what's easy)</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Clue Words & Signals</h2>
                <p>Look for words like: <em>He hesitated, wondered, debated, felt torn, guilt, regret, should/shouldn't.</em></p>
                <p class="punto-clave"><strong>Quick Check:</strong> What thought/emotion is blocking the character? How does the decision change the plot?</p>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>

    <!-- ========== PAGE TOPIC 5: External Conflict ========== -->
    <div id="page-tema5" class="page">
        <header>
            <h1>5. External Conflict and Types</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>Definition</h2>
                <p>A struggle between a character and an <strong>outside</strong> force.</p>
            </section>

            <section class="content-section">
                <h2>Types (Know all five)</h2>
                <ol>
                    <li><strong>Character vs. Character:</strong> (Protagonist vs. antagonist)</li>
                    <li><strong>Character vs. Nature:</strong> (Weather, animals, disease, wilderness)</li>
                    <li><strong>Character vs. Society:</strong> (Laws, norms, discrimination)</li>
                    <li><strong>Character vs. Technology:</strong> (Machines, AI, tools gone wrong)</li>
                    <li><strong>Character vs. Supernatural:</strong> (Fantasy beings, fate, the unknown)</li>
                </ol>
            </section>

            <section class="content-section">
                <h2>How to Spot</h2>
                <p>Look for physical obstacles, rules, opponents, or environmental threats.</p>
                <p class="punto-clave"><strong>Exam Tip:</strong> Name both sides and the type. "Ranger vs. blizzard → Character vs. Nature."</p>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>

    <!-- ========== PAGE TOPIC 6: Personal Narrative ========== -->
    <div id="page-tema6" class="page">
        <header>
            <h1>6. Personal Narrative</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>What It Is</h2>
                <p>A <strong>true story</strong> about the writer—a meaningful moment told in <strong>first person</strong> ("I", "me").</p>
            </section>

            <section class="content-section">
                <h2>Structure</h2>
                <ul>
                    <li><strong>Hook:</strong> Start in action or with a surprising line.</li>
                    <li><strong>Context:</strong> Who / where / when.</li>
                    <li><strong>Moment of Change:</strong> The key event and feelings.</li>
                    <li><strong>Reflection:</strong> What you learned / why it matters.</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Craft Moves</h2>
                <ul>
                    <li><strong>Show, Don't Tell:</strong> Use sensory details, strong verbs, specific nouns.</li>
                    <li><strong>Dialogue:</strong> Reveals voice and relationships.</li>
                    <li><strong>Transitions:</strong> For time (later, meanwhile, after that).</li>
                    <li><strong>Focus:</strong> One clear moment (don't list your whole life).</li>
                </ul>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>

    <!-- ========== PAGE TOPIC 7: Concept Vocabulary ========== -->
    <div id="page-tema7" class="page">
        <header>
            <h1>7. Concept Vocabulary</h1>
        </header>
        <main>
            <section class="content-section">
                <h3>Materials & Objects</h3>
                <ul>
                    <li><strong>stringy:</strong> like string; long, thin, fibrous.</li>
                    <li><strong>strands:</strong> single thin lengths (hair/thread/wire).</li>
                    <li><strong>rawhide:</strong> stiff, untanned animal skin.</li>
                    <li><strong>leather:</strong> tanned, processed hide; durable.</li>
                    <li><strong>beaded:</strong> decorated/covered with beads.</li>
                </ul>
                <h3>Places/Structures</h3>
                <ul>
                    <li><strong>tipi:</strong> cone-shaped tent (Plains Native American).</li>
                    <li><strong>tar-paper shack:</strong> small, crude dwelling with tar-paper roof/walls.</li>
                    <li><strong>curb:</strong> concrete/stone edge between street and sidewalk.</li>
                </ul>
                <h3>Animals & Sounds</h3>
                <ul>
                    <li><strong>mutts:</strong> mixed-breed dogs.</li>
                    <li><strong>growling:</strong> low, guttural sound (anger/threat).</li>
                </ul>
                <h3>Movement & Position</h3>
                <ul>
                    <li><strong>scattered:</strong> spread out in many directions.</li>
                    <li><strong>straggled:</strong> lagged behind/moved irregularly; hung loosely.</li>
                    <li><strong>stooped:</strong> bent forward and downward.</li>
                </ul>
                <h3>Speech & Attitude</h3>
                <ul>
                    <li><strong>bragged:</strong> boasted with excessive pride.</li>
                    <li><strong>muttered:</strong> spoke quietly/low; hard to hear.</li>
                    <li><strong>wearily:</strong> in a tired, exhausted way.</li>
                </ul>
                <div class="punto-clave">
                    <strong>Quick Contrasts:</strong>
                    <br><strong>rawhide</strong> (untanned) vs. <strong>leather</strong> (tanned)
                    <br><strong>scattered</strong> (spread out) vs. <strong>straggled</strong> (lagging behind)
                </div>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>

    <!-- ========== PAGE TOPIC 8: Animal Words (Figurative) ========== -->
    <div id="page-tema8" class="page">
        <header>
            <h1>8. Animal Words (Figurative Meanings)</h1>
        </header>
        <main>
            <section class="content-section">
                <div class="punto-clave">
                    <strong>doggedly:</strong> with stubborn persistence; refusing to give up.
                    <p><em>Ex: She practiced doggedly until she mastered it.</em></p>
                </div>
                <div class="punto-clave">
                    <strong>bull-headed:</strong> stubborn to the point of ignoring advice.
                    <p><em>Ex: His bull-headed refusal caused delays.</em></p>
                </div>
                <div class="punto-clave">
                    <strong>lionized:</strong> treated like a celebrity/hero; praised publicly.
                    <p><em>Ex: The inventor was lionized after the breakthrough.</em></p>
                </div>
                <div class="punto-clave">
                    <strong>elephantine:</strong> very large or clumsy; also "huge in size."
                    <p><em>Ex: He made an elephantine mistake on the form.</em></p>
                </div>
            </section>
            
            <section class="content-section">
                <h2>Key Difference</h2>
                <p><strong>doggedly</strong> = positive persistence</p>
                <p><strong>bull-headed</strong> = negative stubbornness</p>
            </section>

            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>

    <!-- ========== PAGE TOPIC 9: Plot Structures ========== -->
    <div id="page-tema9" class="page">
        <header>
            <h1>9. Plot Structures</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>The 5 Stages</h2>
                <ol>
                    <li><strong>Exposition:</strong> Introduces setting, characters, and basic situation/conflict.</li>
                    <li><strong>Rising Action:</strong> Complications and tension build through events/decisions.</li>
                    <li><strong>Climax:</strong> The turning point; highest tension; major decision or showdown.</li>
                    <li><strong>Falling Action:</strong> Results of the climax unfold; loose ends start to tie up.</li>
                    <li><strong>Resolution:</strong> Conflict outcome is clear; new normal; theme is clear.</li>
                </ol>
            </section>

            <section class="content-section">
                <h2>How to Use on Tests</h2>
                <ul>
                    <li>Match events to stages (what starts the problem? what changes everything?).</li>
                    <li>Ask what the protagonist wants at each stage and what blocks it.</li>
                    <li>If given a diagram, place events on the correct step.</li>
                </ul>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Topics</button>
        </main>
    </div>


    <!-- ========== QUIZ PAGE (Generic) ========== -->
    <div id="page-quiz" class="page">
        <header>
            <h1 id="quiz-title">Study Guide Quiz</h1>
        </header>
        <main>
            <div class="quiz-container" id="quiz-container">
                <div id="question-header">
                    <h2 id="question-text">Loading question...</h2>
                    <p id="question-counter"></p>
                </div>
                <ul id="options-container">
                    <!-- Options will be generated by JavaScript -->
                </ul>
                <button id="submit-btn" class="quiz-button">Next</button>
            </div>

            <div class="results-container" id="results-container" style="display: none;">
                <h2 id="results-title">Results</h2>
                <p id="results-score">You got 0 of 0 correct.</p>
                
                <div id="correct-answers">
                     <!-- This section will show a congratulations message if all are correct -->
                </div>

                <div id="incorrect-answers">
                    <h3>Incorrect Answers:</h3>
                    <!-- Failed questions will be listed here -->
                </div>
                <button onclick="navigateToPage('page-main')" class="nav-button back-button">Back to Home</button>
            </div>
        </main>
    </div>

    <!-- ========== SIMPLE MODAL FOR ALERTS ========== -->
    <div id="simple-modal" class="simple-modal-backdrop">
        <div class="simple-modal-content">
            <p id="simple-modal-message">This is a message.</p>
            <button id="simple-modal-close-btn" class="simple-modal-close">OK</button>
        </div>
    </div>


    <!-- 
        *****************************************************
        SCRIPT (Page Logic)
        *****************************************************
        All JavaScript is integrated here.
        It handles page navigation and quiz logic.
    -->
    <script>
        // --- 1. NAVIGATION LOGIC ---
        
        let currentPage = 'page-main';
        
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            // Show the requested page
            const newPage = document.getElementById(pageId);
            if (newPage) {
                newPage.classList.add('active');
                currentPage = pageId;
                window.scrollTo(0, 0); // Scroll to top
            } else {
                console.error("Page not found:", pageId);
                document.getElementById('page-main').classList.add('active'); // Fallback to main
            }
        }

        function navigateToPage(pageId, quizId = null) {
            if (pageId === 'page-quiz') {
                // If navigating to a quiz, load the quiz logic
                loadQuiz(quizId);
            }
            // Visually change the page
            showPage(pageId);
        }

        // Show main page on load
        document.addEventListener('DOMContentLoaded', () => {
            showPage('page-main');
        });


        // --- 2. QUESTION DATABASE ---

        const allQuestions = {
            "quiz-main": {
                "title": "General Knowledge Quiz",
                "questions": [
                    // Topic 1: Active/Passive Voice
                    {
                        "question": "Which sentence is in PASSIVE voice?",
                        "options": [
                            "The dog chased the cat.",
                            "The cat was chased by the dog.",
                            "The dog is chasing the cat.",
                            "A dog chased a cat."
                        ],
                        "answer": "The cat was chased by the dog."
                    },
                    {
                        "question": "Why might an author use PASSIVE voice?",
                        "options": [
                            "To emphasize the receiver of the action",
                            "To make the writing clearer and stronger",
                            "To always show who did the action",
                            "To speed up the pacing"
                        ],
                        "answer": "To emphasize the receiver of the action"
                    },
                    // Topic 2: Informational Text Features
                    {
                        "question": "What text feature defines unfamiliar words at the bottom of a page?",
                        "options": [
                            "Sidebar",
                            "Heading",
                            "Footnote",
                            "Graphic"
                        ],
                        "answer": "Footnote"
                    },
                    {
                        "question": "A chart or graph that organizes data visually is called a...",
                        "options": [
                            "Sidebar",
                            "Graphic",
                            "Footnote",
                            "Heading"
                        ],
                        "answer": "Graphic"
                    },
                    // Topic 3: Adventure Stories
                    {
                        "question": "High stakes, a clear quest, and a challenging setting are all features of...",
                        "options": [
                            "An adventure story",
                            "A personal narrative",
                            "An informational text",
                            "A passive voice essay"
                        ],
                        "answer": "An adventure story"
                    },
                    // Topic 4: Internal Conflict
                    {
                        "question": "A character feeling torn between two tough choices is experiencing...",
                        "options": [
                            "Internal Conflict",
                            "External Conflict",
                            "Character vs. Character",
                            "Resolution"
                        ],
                        "answer": "Internal Conflict"
                    },
                    {
                        "question": "'Duty vs. Desire' (e.g., responsibility vs. want) is a common type of...",
                        "options": [
                            "Internal Conflict",
                            "Character vs. Nature",
                            "Climax",
                            "Exposition"
                        ],
                        "answer": "Internal Conflict"
                    },
                    // Topic 5: External Conflict
                    {
                        "question": "A hero must cross a dangerous desert. What is the primary external conflict?",
                        "options": [
                            "Character vs. Nature",
                            "Character vs. Society",
                            "Character vs. Technology",
                            "Character vs. Character"
                        ],
                        "answer": "Character vs. Nature"
                    },
                    {
                        "question": "A hero fighting a dragon is an example of Character vs. ...?",
                        "options": [
                            "Supernatural",
                            "Nature",
                            "Society",
                            "Technology"
                        ],
                        "answer": "Supernatural"
                    },
                    // Topic 6: Personal Narrative
                    {
                        "question": "A personal narrative is a...",
                        "options": [
                            "True story about the writer's own experience",
                            "Fictional story about a hero's quest",
                            "An informational article about a topic",
                            "A fantasy story with dragons"
                        ],
                        "answer": "True story about the writer's own experience"
                    },
                    {
                        "question": "The technique 'Show, Don't Tell' relies on...",
                        "options": [
                            "Sensory details and strong verbs",
                            "A clear list of facts and dates",
                            "Telling the reader the theme directly",
                            "Using only dialogue"
                        ],
                        "answer": "Sensory details and strong verbs"
                    },
                    // Topic 7: Concept Vocabulary
                    {
                        "question": "What is the term for stiff, UNTANNED animal skin?",
                        "options": [
                            "Rawhide",
                            "Leather",
                            "Strand",
                            "Tipi"
                        ],
                        "answer": "Rawhide"
                    },
                    {
                        "question": "If someone 'muttered', they...",
                        "options": [
                            "Spoke quietly or in a low voice",
                            "Boasted with excessive pride",
                            "Lagged behind the group",
                            "Bent forward and downward"
                        ],
                        "answer": "Spoke quietly or in a low voice"
                    },
                    // Topic 8: Animal Words
                    {
                        "question": "What does it mean to work 'doggedly'?",
                        "options": [
                            "With stubborn persistence (refusing to give up)",
                            "Very large or clumsy",
                            "Stubborn to the point of ignoring advice",
                            "In a tired, exhausted way"
                        ],
                        "answer": "With stubborn persistence (refusing to give up)"
                    },
                    {
                        "question": "If an inventor is 'lionized' by the public, they are...",
                        "options": [
                            "Treated like a celebrity or hero",
                            "Considered very clumsy",
                            "Acting very stubborn",
                            "Working persistently"
                        ],
                        "answer": "Treated like a celebrity or hero"
                    },
                    {
                        "question": "What is the key difference between 'doggedly' and 'bull-headed'?",
                        "options": [
                            "Persistence (positive) vs. Stubbornness (negative)",
                            "Tired vs. Angry",
                            "Fast vs. Slow",
                            "Loud vs. Quiet"
                        ],
                        "answer": "Persistence (positive) vs. Stubbornness (negative)"
                    },
                    // Topic 9: Plot Structure
                    {
                        "question": "What is the 'Climax' of a story?",
                        "options": [
                            "The turning point or moment of highest tension",
                            "The beginning where characters are introduced",
                            "The very end where the conflict is over",
                            "The part where complications build"
                        ],
                        "answer": "The turning point or moment of highest tension"
                    },
                    {
                        "question": "In which plot stage are characters and setting introduced?",
                        "options": [
                            "Exposition",
                            "Climax",
                            "Falling Action",
                            "Resolution"
                        ],
                        "answer": "Exposition"
                    },
                    {
                        "question": "What is the 'Resolution' of a plot?",
                        "options": [
                            "The conflict outcome is clear and a new normal begins",
                            "The tension builds to its highest point",
                            "The characters are introduced for the first time",
                            "A secondary character tells a story"
                        ],
                        "answer": "The conflict outcome is clear and a new normal begins"
                    }
                ]
            }
        };


        // --- 3. QUIZ LOGIC ---

        // Global variables for quiz state
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;
        let totalQuestions = 10; // Set to 10 as requested
        let currentQuizId = '';

        // DOM elements for the Quiz
        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        const quizTitle = document.getElementById('quiz-title');
        const questionText = document.getElementById('question-text');
        const questionCounter = document.getElementById('question-counter');
        const optionsContainer = document.getElementById('options-container');
        const submitBtn = document.getElementById('submit-btn');
        const resultsScore = document.getElementById('results-score');
        const correctAnswersList = document.getElementById('correct-answers');
        const incorrectAnswersList = document.getElementById('incorrect-answers');

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Function to load the quiz
        function loadQuiz(quizId) {
            if (!quizId || !allQuestions[quizId]) {
                quizTitle.textContent = "Error";
                questionText.textContent = "Quiz not found. Please return to the home page.";
                submitBtn.style.display = 'none';
                return;
            }
            
            currentQuizId = quizId;
            const quizData = allQuestions[quizId];
            quizTitle.textContent = quizData.title;
            
            // Show quiz, hide results
            quizContainer.style.display = 'block';
            resultsContainer.style.display = 'none';
            submitBtn.style.display = 'block';
            
            // Randomly select questions
            let questionsToLoad = shuffleArray([...quizData.questions]); // Clone and shuffle
            
            // Select 10 questions
            totalQuestions = 10; 
            currentQuestions = questionsToLoad.slice(0, totalQuestions); 

            userAnswers = new Array(totalQuestions).fill(null);
            currentQuestionIndex = 0;
            score = 0;

            showQuestion();
        }

        // Function to display the current question
        function showQuestion() {
            deselectOptions();

            const questionData = currentQuestions[currentQuestionIndex];
            
            // Shuffle options for this question
            let shuffledOptions = shuffleArray([...questionData.options]);
            
            questionText.textContent = questionData.question;
            questionCounter.textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;
            optionsContainer.innerHTML = '';

            shuffledOptions.forEach(option => {
                const li = document.createElement('li');
                li.textContent = option;
                li.onclick = () => selectOption(li, option);
                optionsContainer.appendChild(li);
            });

            if (currentQuestionIndex === totalQuestions - 1) {
                submitBtn.textContent = 'Finish Quiz';
            } else {
                submitBtn.textContent = 'Next';
            }
        }

        // Function to handle option selection
        function selectOption(selectedLi, option) {
            deselectOptions();
            selectedLi.classList.add('selected');
            userAnswers[currentQuestionIndex] = option;
        }

        // Function to remove 'selected' class from all options
        function deselectOptions() {
            const options = optionsContainer.getElementsByTagName('li');
            Array.from(options).forEach(option => {
                option.classList.remove('selected');
            });
        }

        // Event Listener for the Next/Finish button
        submitBtn.addEventListener('click', () => {
            const selectedOption = userAnswers[currentQuestionIndex];
            
            if (selectedOption === null) {
                showSimpleModal('Please select an answer.');
                return;
            }

            // Check if the answer is correct
            if (selectedOption === currentQuestions[currentQuestionIndex].answer) {
                score++;
            }

            currentQuestionIndex++;

            if (currentQuestionIndex < totalQuestions) {
                showQuestion();
            } else {
                showResults();
            }
        });

        // Function to display final results
        function showResults() {
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'block';

            resultsScore.textContent = `You got ${score} of ${totalQuestions} correct.`;

            let incorrectHtml = '<ul>';
            let hasIncorrect = false;
            currentQuestions.forEach((question, index) => {
                if (userAnswers[index] !== question.answer) {
                    hasIncorrect = true;
                    incorrectHtml += `
                        <li>
                            <p class="question">${index + 1}. ${question.question}</p>
                            <p class="user-answer"><strong>Your answer:</strong> ${userAnswers[index] || "Not answered"}</p>
                            <p class="correct-answer"><strong>Correct answer:</strong> ${question.answer}</p>
                        </li>
                    `;
                }
            });
            incorrectHtml += '</ul>';

            // Clear previous results and add new ones
            correctAnswersList.innerHTML = ''; 
            incorrectAnswersList.innerHTML = '<h3>Incorrect Answers:</h3>'; 
            
            if (!hasIncorrect) {
                correctAnswersList.innerHTML = '<h3>Congratulations! All answers are correct!</h3>';
                incorrectAnswersList.innerHTML = ''; // Hide incorrect section
            } else {
                incorrectAnswersList.innerHTML += incorrectHtml;
            }
        }

        // --- 4. SIMPLE MODAL LOGIC ---
        const modal = document.getElementById('simple-modal');
        const modalMessage = document.getElementById('simple-modal-message');
        const modalCloseBtn = document.getElementById('simple-modal-close-btn');

        function showSimpleModal(message) {
            modalMessage.textContent = message;
            modal.style.display = 'flex';
        }

        modalCloseBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });
        // Click on backdrop to close
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });

    </script>
</body>
</html>
